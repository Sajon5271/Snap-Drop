<div class="whole-body">
  <h1>
    Take Your Photo
    <!-- <img
      class="header-icon"
      src="../../../assets/Header icons/photo-camera.png"
    /> -->
  </h1>
  <div #container [ngClass]="{ hide: !cameraOpen }" class="webcamContainer">
    <webcam
      class="camera"
      [width]="windowWidth"
      (initError)="handleInitError($event)"
      [trigger]="getTrigger()"
      [captureImageData]="true"
      [allowCameraSwitch]="true"
      [videoOptions]="cameraConfig"
      (imageCapture)="saveImage($event)"
      [imageQuality]="1"
    ></webcam>
    <svg
      *ngIf="delayed"
      version="1.2"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 56 56"
      width="500"
      height="500"
      class="outline"
    >
      <g id="Layer">
        <g id="Layer">
          <path
            pathLength="100"
            id="Layer"
            class="s0"
            d="m28.7 104.9c-0.2 2.9 1.7 18.1 2.7 24.1 0.5 2.8 1.8 7.5 1.3 9.9-0.6 3.4-0.8 7.9-0.5 10.4 0.3 1.6 1 8.8 0 11.4-0.6 1.4-1.6 8.5-1.6 8.5-2.7 6.7-1.2 6.4-1.2 6.4 0.9 1 2.3 0.1 2.3 0.1 1 0.6 1.8-0.2 1.8-0.2 0.9 0.8 2-0.1 2-0.1 1.1 0.6 2.2-0.5 2.2-0.5 0.6 0.3 0.8-0.1 0.8-0.1 2-0.1-1.1-6.5-1.1-6.5-0.7-5.7 0.7-8.9 0.7-8.9 4.9-14.3 5.1-18.1 3.2-23.5-0.6-1.6-0.7-2.2-0.5-2.9 0.6-1.5 0.2-7.8 0.9-10.3 1.4-4.8 2.7-17 3.4-22.7 1-7.7-3.3-18-3.3-18-1-4.2 0.4-19.1 0.4-19.1 1.9 3 1.9 8.2 1.9 8.2-0.3 5.6 4.4 14 4.4 14 2.3 3.5 3.2 6.8 3.2 7 0 1-0.2 3.5-0.2 3.5l0.1 2.1c0 0.5 0.3 2.4 0.2 3.3-0.3 5.5 0.6 4.5 0.6 4.5 0.7 0 1.5-4.5 1.5-4.5 0 1.2-0.3 4.6 0.4 5.9 0.7 1.6 1.2-0.3 1.3-0.6 0.1-7.1 0.6-5.2 0.6-5.2 0.4 5.7 0.9 7 1.8 6.5 0.7-0.3 0.1-6.8 0.1-6.8 1.1 3.9 2 4.5 2 4.5 2 1.3 0.8-2.4 0.5-3.2-1.4-3.9-1.5-5.3-1.5-5.3 1.8 3.6 3.2 3.4 3.2 3.4 1.7-0.5-1.6-5.6-3.5-8-1-1.2-2.2-2.9-2.6-3.8-0.6-1.7-1.1-7-1.1-7-0.1-6.3-1.7-9.1-1.7-9.1-2.6-4.2-3.1-12.1-3.1-12.1l-0.2-13.4c-0.9-9.2-7.6-9.2-7.6-9.2-6.8-1.1-7.8-3.3-7.8-3.3-1.4-2-0.6-6-0.6-6 1.2-1 1.7-3.6 1.7-3.6 1.9-1.5 1.8-3.7 0.9-3.7-0.7 0-0.5-0.6-0.5-0.6 1.2-10-7.7-10.5-7.7-10.5h-1.4c0 0-8.9 0.5-7.6 10.5 0 0 0.1 0.6-0.6 0.6-0.9 0-1 2.2 1 3.7 0 0 0.4 2.6 1.6 3.6 0 0 0.8 4-0.6 6 0 0-0.9 2.2-7.8 3.2 0 0-6.7 0.1-7.6 9.3l-0.1 13.4c0 0-0.5 7.9-3.2 12.1 0 0-1.5 2.8-1.7 9.1 0 0-0.5 5.3-1.1 6.9-0.3 1-1.6 2.7-2.6 3.9-1.9 2.4-5.2 7.4-3.4 8 0 0 1.3 0.2 3.1-3.4 0 0 0 1.4-1.5 5.3-0.3 0.8-1.5 4.5 0.5 3.2 0 0 0.9-0.6 2.1-4.5 0 0-0.7 6.5 0 6.8 0.9 0.5 1.4-0.8 1.9-6.5 0 0 0.4-1.9 0.6 5.2 0 0.3 0.5 2.2 1.3 0.6 0.6-1.3 0.3-4.7 0.3-5.9 0 0 0.8 4.5 1.6 4.5 0 0 0.8 1 0.5-4.5-0.1-0.9 0.2-2.8 0.3-3.3l0.1-2.1c0 0-0.3-2.5-0.3-3.5 0-0.2 0.9-3.5 3.2-7 0 0 4.8-8.5 4.5-14 0 0-0.1-5.2 1.8-8.2 0 0 1.4 14.9 0.4 19.1 0 0-4.2 10.3-3.3 18 0.7 5.7 2 17.9 3.4 22.7 0.7 2.5 0.3 8.8 0.9 10.3 0.2 0.7 0.1 1.3-0.5 2.9-1.9 5.4-1.6 9.2 3.2 23.5 0 0 1.5 3.2 0.7 8.9 0 0-3.1 6.4-1.1 6.5 0 0 0.2 0.4 0.9 0.1 0 0 1 1.1 2.2 0.5 0 0 1 0.9 2 0.1 0 0 0.7 0.8 1.8 0.2 0 0 1.4 0.9 2.2-0.1 0 0 1.5 0.3-1.2-6.4 0 0-1-7.1-1.5-8.5-1.1-2.6-0.3-9.8-0.1-11.4 0.4-2.6 0.2-7-0.5-10.4-0.5-2.4 0.8-7.1 1.3-9.9 1-6 3-21.2 2.7-24.1l0.8 0.3c0.6 0 1-0.3 1-0.3z"
          />
        </g>
      </g>
      <g id="Layer">
        <g id="Layer">
          <path
            pathLength="100"
            id="Layer"
            class="s01"
            d="m28.7 104.9c-0.2 2.9 1.7 18.1 2.7 24.1 0.5 2.8 1.8 7.5 1.3 9.9-0.6 3.4-0.8 7.9-0.5 10.4 0.3 1.6 1 8.8 0 11.4-0.6 1.4-1.6 8.5-1.6 8.5-2.7 6.7-1.2 6.4-1.2 6.4 0.9 1 2.3 0.1 2.3 0.1 1 0.6 1.8-0.2 1.8-0.2 0.9 0.8 2-0.1 2-0.1 1.1 0.6 2.2-0.5 2.2-0.5 0.6 0.3 0.8-0.1 0.8-0.1 2-0.1-1.1-6.5-1.1-6.5-0.7-5.7 0.7-8.9 0.7-8.9 4.9-14.3 5.1-18.1 3.2-23.5-0.6-1.6-0.7-2.2-0.5-2.9 0.6-1.5 0.2-7.8 0.9-10.3 1.4-4.8 2.7-17 3.4-22.7 1-7.7-3.3-18-3.3-18-1-4.2 0.4-19.1 0.4-19.1 1.9 3 1.9 8.2 1.9 8.2-0.3 5.6 4.4 14 4.4 14 2.3 3.5 3.2 6.8 3.2 7 0 1-0.2 3.5-0.2 3.5l0.1 2.1c0 0.5 0.3 2.4 0.2 3.3-0.3 5.5 0.6 4.5 0.6 4.5 0.7 0 1.5-4.5 1.5-4.5 0 1.2-0.3 4.6 0.4 5.9 0.7 1.6 1.2-0.3 1.3-0.6 0.1-7.1 0.6-5.2 0.6-5.2 0.4 5.7 0.9 7 1.8 6.5 0.7-0.3 0.1-6.8 0.1-6.8 1.1 3.9 2 4.5 2 4.5 2 1.3 0.8-2.4 0.5-3.2-1.4-3.9-1.5-5.3-1.5-5.3 1.8 3.6 3.2 3.4 3.2 3.4 1.7-0.5-1.6-5.6-3.5-8-1-1.2-2.2-2.9-2.6-3.8-0.6-1.7-1.1-7-1.1-7-0.1-6.3-1.7-9.1-1.7-9.1-2.6-4.2-3.1-12.1-3.1-12.1l-0.2-13.4c-0.9-9.2-7.6-9.2-7.6-9.2-6.8-1.1-7.8-3.3-7.8-3.3-1.4-2-0.6-6-0.6-6 1.2-1 1.7-3.6 1.7-3.6 1.9-1.5 1.8-3.7 0.9-3.7-0.7 0-0.5-0.6-0.5-0.6 1.2-10-7.7-10.5-7.7-10.5h-1.4c0 0-8.9 0.5-7.6 10.5 0 0 0.1 0.6-0.6 0.6-0.9 0-1 2.2 1 3.7 0 0 0.4 2.6 1.6 3.6 0 0 0.8 4-0.6 6 0 0-0.9 2.2-7.8 3.2 0 0-6.7 0.1-7.6 9.3l-0.1 13.4c0 0-0.5 7.9-3.2 12.1 0 0-1.5 2.8-1.7 9.1 0 0-0.5 5.3-1.1 6.9-0.3 1-1.6 2.7-2.6 3.9-1.9 2.4-5.2 7.4-3.4 8 0 0 1.3 0.2 3.1-3.4 0 0 0 1.4-1.5 5.3-0.3 0.8-1.5 4.5 0.5 3.2 0 0 0.9-0.6 2.1-4.5 0 0-0.7 6.5 0 6.8 0.9 0.5 1.4-0.8 1.9-6.5 0 0 0.4-1.9 0.6 5.2 0 0.3 0.5 2.2 1.3 0.6 0.6-1.3 0.3-4.7 0.3-5.9 0 0 0.8 4.5 1.6 4.5 0 0 0.8 1 0.5-4.5-0.1-0.9 0.2-2.8 0.3-3.3l0.1-2.1c0 0-0.3-2.5-0.3-3.5 0-0.2 0.9-3.5 3.2-7 0 0 4.8-8.5 4.5-14 0 0-0.1-5.2 1.8-8.2 0 0 1.4 14.9 0.4 19.1 0 0-4.2 10.3-3.3 18 0.7 5.7 2 17.9 3.4 22.7 0.7 2.5 0.3 8.8 0.9 10.3 0.2 0.7 0.1 1.3-0.5 2.9-1.9 5.4-1.6 9.2 3.2 23.5 0 0 1.5 3.2 0.7 8.9 0 0-3.1 6.4-1.1 6.5 0 0 0.2 0.4 0.9 0.1 0 0 1 1.1 2.2 0.5 0 0 1 0.9 2 0.1 0 0 0.7 0.8 1.8 0.2 0 0 1.4 0.9 2.2-0.1 0 0 1.5 0.3-1.2-6.4 0 0-1-7.1-1.5-8.5-1.1-2.6-0.3-9.8-0.1-11.4 0.4-2.6 0.2-7-0.5-10.4-0.5-2.4 0.8-7.1 1.3-9.9 1-6 3-21.2 2.7-24.1l0.8 0.3c0.6 0 1-0.3 1-0.3z"
          />
        </g>
      </g>
    </svg>
  </div>
  <div *ngIf="errorMsg" class="errorMsg">{{ errorMsg }}</div>
  <img *ngIf="!cameraOpen && !errorMsg" [src]="dataUrl" class="capturedImage" />
  <div *ngIf="delayed" class="captureButton">
    <button
      *ngIf="cameraOpen; else retakeOrProceed"
      class="button"
      (click)="capture()"
      mat-icon-button
    >
      <mat-icon>camera</mat-icon>
      <!-- <mat-icon>adjust</mat-icon>
      <mat-icon>camera_alt</mat-icon>
      <mat-icon>lens</mat-icon>
      <mat-icon>panorama_fish_eye</mat-icon> -->
    </button>
    <ng-template #retakeOrProceed>
      <button mat-icon-button class="button" (click)="retakePhoto()">
        <mat-icon>cached</mat-icon>
      </button>
      <button mat-icon-button class="button" (click)="addToPassportPhotos()">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </ng-template>
  </div>
  
</div>